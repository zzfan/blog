<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>赵志凡'Blog</title><link>http://blog.zzfan.info/</link><description>我是要成为海贼王的男人~~</description><atom:link href="http://blog.zzfan.info/ndn/rss.xml" rel="self"></atom:link><lastBuildDate>Wed, 06 May 2015 00:00:00 +0800</lastBuildDate><item><title>未来网络(NDN)实验平台搭建</title><link>http://blog.zzfan.info/wei-lai-wang-luo-ndnshi-yan-ping-tai-da-jian.html</link><description>&lt;p&gt;具体的配置脚本如下，具体代码可以到我的&lt;a href="https://github.com/zzfan/NDNScript"&gt;github/NDNScript&lt;/a&gt;下载。
如果运行过程中出现了问题，可能与本版有关，或者什么环节没有sudo。具体的自己重新装下，或者重装系统。&lt;/p&gt;
&lt;h3&gt;- CCNX/NDN的安装&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nv"&gt;workspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/zzfanhero/Documents/GitHub/ndn&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;depend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;git libssl-dev libpcap-dev libxml2 libexpat-dev openjdk-7-jdk ant&amp;#39;&lt;/span&gt;
sudo apt-get install &lt;span class="nv"&gt;$depend&lt;/span&gt;
mkdir -p &lt;span class="nv"&gt;$workspace&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$workspace&lt;/span&gt;
git clone https://github.com/ProjectCCNx/ccnx
&lt;span class="nb"&gt;cd &lt;/span&gt;ccnx
chmod +x configure
./configure
make
sudo make install
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3&gt;- Pyccn的安装&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nv"&gt;workspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/zzfanhero/Documents/GitHub/ndn&amp;#39;&lt;/span&gt;
mkdir -p &lt;span class="nv"&gt;$workspace&lt;/span&gt;
&lt;span class="nv"&gt;depend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;autoconf libtool openssl python-dev&amp;#39;&lt;/span&gt;
sudo apt-get install &lt;span class="nv"&gt;$depend&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$workspace&lt;/span&gt;
git clone https://github.com/named-data/PyCCN
&lt;span class="nb"&gt;cd &lt;/span&gt;PyCCN
./bootstrap
./configure
make
sudo make install
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3&gt;- ndnvideo的安装&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nv"&gt;workspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/zzfanhero/Documents/GitHub/ndn&amp;#39;&lt;/span&gt;
mkdir -p &lt;span class="nv"&gt;$workspace&lt;/span&gt;
&lt;span class="nv"&gt;depend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gstreamer0.10 python-gst0.10-dev&amp;#39;&lt;/span&gt;
sudo apt-get install &lt;span class="nv"&gt;$depend&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$workspace&lt;/span&gt;
git clone https://github.com/named-data/ndnvideo
gst-launch-0.10 videotestsrc ! ximagesink
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3&gt;- OSPFN的安装&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
sudo apt-get install gawk
&lt;span class="nv"&gt;workspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/zzfanhero/Documents/GitHub/ndn&amp;#39;&lt;/span&gt;
mkdir -p &lt;span class="nv"&gt;$workspace&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$workspace&lt;/span&gt;
git clone https://github.com/named-data/OSPFN2.0
sudo adduser quagga
&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/local/etc/
sudo mkdir quagga
sudo chown quagga:quagga quagga
sudo chmod g+w quagga
sudo mkdir quagga-state
sudo chown quagga:quagga quagga-state
sudo chmod g+w quagga-state
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$workspace&lt;/span&gt;
&lt;span class="nb"&gt;cd &lt;/span&gt;OSPFN2.0
chmod +x ./configure

./configure --enable-opaque-lsa --disable-ipv6 --disable-ripd --disable-ripngd --disable-ospf6d 
--disable-bgpd --disable-bgp-announce --sysconfdir&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/etc/quagga
--localstatedir&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/etc/quagga-state

make
sudo make install
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3&gt;- 网络端口的配置&lt;/h3&gt;
&lt;p&gt;interface_conf.sh&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;

sudo modprobe ip_gre
&lt;span class="nb"&gt;cd&lt;/span&gt; /etc/network
sudo mv interfaces interfaces-bak
&lt;span class="nb"&gt;read&lt;/span&gt; -p &lt;span class="s1"&gt;&amp;#39;enter interface name:&amp;gt;&amp;gt; &amp;#39;&lt;/span&gt; interface
&lt;span class="nb"&gt;read&lt;/span&gt; -p &lt;span class="s1"&gt;&amp;#39;enter my private ip:&amp;gt;&amp;gt; &amp;#39;&lt;/span&gt; myprivateip
&lt;span class="nb"&gt;read&lt;/span&gt; -p &lt;span class="s1"&gt;&amp;#39;enter your private ip:&amp;gt;&amp;gt; &amp;#39;&lt;/span&gt; yourprivateip
&lt;span class="nb"&gt;read&lt;/span&gt; -p &lt;span class="s1"&gt;&amp;#39;enter my ip:&amp;gt;&amp;gt; &amp;#39;&lt;/span&gt; myip
&lt;span class="nb"&gt;read&lt;/span&gt; -p &lt;span class="s1"&gt;&amp;#39;enter your ip:&amp;gt;&amp;gt; &amp;#39;&lt;/span&gt; yourip
&lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;hebi-interface
&lt;span class="nv"&gt;myprivateip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.1.9
&lt;span class="nv"&gt;yourprivateip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.1.10
&lt;span class="nv"&gt;myip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.1.108
&lt;span class="nv"&gt;yourip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.1.109
&lt;span class="nb"&gt;cd&lt;/span&gt;
cat &amp;gt; interfaces &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;auto lo&lt;/span&gt;
&lt;span class="s"&gt;iface lo inet loopback&lt;/span&gt;

&lt;span class="s"&gt;auto $interface&lt;/span&gt;
&lt;span class="s"&gt;iface $interface inet static&lt;/span&gt;
&lt;span class="s"&gt;address $myprivateip&lt;/span&gt;
&lt;span class="s"&gt;netmask 255.255.255.252&lt;/span&gt;
&lt;span class="s"&gt;pre-up iptunnel add $interface mode gre local $myip remote $yourip ttl 255&lt;/span&gt;
&lt;span class="s"&gt;pointopoint $yourprivateip&lt;/span&gt;
&lt;span class="s"&gt;up ifconfig $interface multicast&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
sudo mv interfaces /etc/network/
sudo /etc/init.d/networking restart
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;ospf_conf.sh&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nv"&gt;myhost&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zzfan.host
&lt;span class="nv"&gt;logfile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/tmp/ospfd.log
&lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zzfan-interface
&lt;span class="nv"&gt;routerid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.0.2
cat &amp;gt; ospfd.conf &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;hostname $myhost&lt;/span&gt;
&lt;span class="s"&gt;password pwd&lt;/span&gt;
&lt;span class="s"&gt;enable password pwd&lt;/span&gt;
&lt;span class="s"&gt;log file $logfile&lt;/span&gt;
&lt;span class="s"&gt;interface $interface&lt;/span&gt;
&lt;span class="s"&gt;router ospf&lt;/span&gt;
&lt;span class="s"&gt; ospf router-id $routerid&lt;/span&gt;
&lt;span class="s"&gt; redistribute connected&lt;/span&gt;
&lt;span class="s"&gt; distribute-list ospfn out connected&lt;/span&gt;
&lt;span class="s"&gt; network 10.0.1.8/30 area 0.0.0.0&lt;/span&gt;
&lt;span class="s"&gt; capability opaque&lt;/span&gt;
&lt;span class="s"&gt;line vty&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
sudo mv ospfd.conf /usr/local/etc/quagga/

cat &amp;gt; ospfn.conf &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;ccnname /ndn/ustc.edu/zzfan/cs/ 1&lt;/span&gt;
&lt;span class="s"&gt;ccnname /ndn/ustc.edu/zzfan/ee/ 2&lt;/span&gt;
&lt;span class="s"&gt;logdir /tmp/&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
sudo mv ospfn.conf /usr/local/etc/quagga/

cat &amp;gt; zebra.conf &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;hostname $myhost&lt;/span&gt;
&lt;span class="s"&gt;password zebra&lt;/span&gt;
&lt;span class="s"&gt;enable password zebra&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
sudo mv zebra.conf /usr/local/etc/quagga/
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">zzfan</dc:creator><pubDate>Wed, 06 May 2015 00:00:00 +0800</pubDate><guid>tag:blog.zzfan.info,2015-05-06:wei-lai-wang-luo-ndnshi-yan-ping-tai-da-jian.html</guid><category>NDN</category><category>shell</category><category>ccnx</category><category>code</category></item></channel></rss>